<%= render 'layouts/flash_messages' %>
<div class="container-course">
  <h1>コース登録</h1>
  
  <%# <%= form_with model: @course, url: golfclub_course_path(@golfclub, @course), local: true, method: :patch do |course| %>
    <%# <div class="form-group"> %>
      <%# <%= course.label :name %>
      <%# <%= course.text_field :name, placeholder: "50文字以内", class: "form-control" %>
    <%# </div> %>
    <%# <div class="form-group"> %>
      <%# <%= course.submit submit_name, class: "btn btn-primary", data: { disable_with: '送信中' }, class: "btn btn-primary btn-block" %>
    <%# </div> %>
  <%# <% end %>

  <%= form_with model: @course, url: golfclub_course_path(@golfclub, @course), local: true, method: :patch do |course| %>
    <%# <%= render 'form', course: course %>
    <div class="form-group">
      <%= course.label :name %>
      <%= course.text_field :name, class: "form-control" %>
    </div>

    <div class="form-group-hole col col-md-3 px-0">
      <%= Hole.human_attribute_name :hole_number %>
    </div>

    <div class="form-group-hole col col-md-8 px-0">
      <%= Hole.human_attribute_name :number_of_pars %>
    </div>

    <%= course.fields_for :holes do |hole_fields| %>
      <div class="form-group-hole col col-md-3 pl-0">
        <%= hole_fields.number_field :hole_number, class: "form-control" %>
      </div>
      
      <div class="form-group-hole col-md-8 form-control">
        <% @pars.each do |par| %>
          &emsp;
          <%= hole_fields.label :pars, par %>
          <%= hole_fields.radio_button :number_of_pars, par, value: "ball_blue.jpeg" %>
          <label for=<%= "course_holes_attributes_#{hole_fields.index}_number_of_pars_#{par}" %>>
            <img src="/ball_blue.jpeg" with="20" height="20">
          </label>
        <% end %>
      </div>
    <% end %>

    <div class="form-group">
      <%= course.submit submit_name, class: "btn btn-primary", data: { disable_with: '送信中' }, class: "btn btn-primary btn-block" %>
    </div>
  <% end %>
<div>
